#include "Delay.h"

/******************************************************************************/
void Delay_Init(void){
  
  CLK_PCKENR1_bit.PCKEN12 = 1; 
  TIM4_PSCR_bit.PSC = 0x04;    
  TIM4_EGR_bit.UG = 1;         
  TIM4_CR1_bit.CEN = 1; 
  
}
/******************************************************************************/
void delay_us(unsigned char us){
  
  TIM4_CNTR = 0;
  while (TIM4_CNTR < us);  
  
}
/******************************************************************************/
void delay_ms (unsigned int ms){
  
  ms = ms<<2;
  while (ms--) delay_us(250);
  
}
/******************************************************************************/